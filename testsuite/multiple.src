(# Case study to illustrate TCB minimization #)

l1: int_low ref_low;
l2: int_high ref_low;
l3: int_high ref_low;
l4: int_high ref_low


(# With TCB minimization turned on, only the branches should be placed inside 
   enclaves, not the entire while loop
 #)
while (*l1) != 0 do
	if (*l1) == 1 then
		output(H, (*l2)+(*l3));
	else
		output(H, (*l2)%(*l3));
	fi;
end;
